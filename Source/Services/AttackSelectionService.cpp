/*
    Initial author: Convery (tcn@ayria.se)
    Started: 15-01-2018
    License: MIT
    Notes:
        Provides implementations for matchmaking services.
*/

#pragma once
#include "../Stdinclude.hpp"

// Endpoints.
void GetAttackSelectionList(Gameserver *Server, std::string Request, std::string Body)
{
    nlohmann::json Response;

    try
    {
        Response = R"({"Result":{"BossCastle":{"DefenderAccountSummary":{"Id":14,"DisplayName":"Snotter_King","OasisNameId":2645,"AvatarId":10,"CastleLevel":4},"CastleType":1,"Level":4,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":5,"CastleHeartRank":4,"WinRatioDifficulty":2},"CastlesByLevel":[{"Level":1,"Castles":[{"DefenderAccountSummary":{"Id":3,"DisplayName":"Bewarewich Castle","OasisNameId":16675,"AvatarId":10,"CastleLevel":1},"CastleType":1,"Level":1,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":26,"CastleHeartRank":1}]},{"Level":2,"Castles":[{"DefenderAccountSummary":{"Id":100,"DisplayName":"Tybalt's Farm","OasisNameId":16658,"AvatarId":10,"CastleLevel":2},"CastleType":1,"Level":2,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":30,"CastleHeartRank":2},{"DefenderAccountSummary":{"Id":3119548,"DisplayName":"Pablof50","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-18T11:27:41Z","CastleThemeId":22,"CastleHeartRank":2,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":3137700,"DisplayName":"CastleAuger","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-05T02:58:09Z","CastleThemeId":22,"CastleHeartRank":2,"WinRatioDifficulty":2,"LastComment":{"AttackId":"5808a38f5c983216c0b8113c","AccountId":3142082,"Comment":{"Raw":"fern kmpfer haben gute chancen"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3142244,"DisplayName":"RhazardEx","AvatarId":10,"CastleLevel":2,"TrophyScore":18,"GuildHeader":{"Id":152565,"DisplayName":"PumbaNaIrina","Emblem":{"Id":36}}},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-21T12:07:22Z","TrophyScore":18,"CastleThemeId":21,"CastleHeartRank":2,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":3135690,"DisplayName":"helmhammerhand25","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-28T23:15:28Z","CastleThemeId":23,"CastleHeartRank":2,"WinRatioDifficulty":2,"LastComment":{"AttackId":"57fa74f75c98321d401d2032","AccountId":3139004,"Comment":{"Raw":"extraordinary"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3141611,"DisplayName":"chockhy","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-18T16:03:34Z","CastleThemeId":23,"CastleHeartRank":2,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":2937327,"DisplayName":"asdecge","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-06T17:06:37Z","CastleThemeId":21,"CastleHeartRank":2,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":3131266,"DisplayName":"Djordan95","AvatarId":10,"CastleLevel":2,"GuildHeader":{"Id":150843,"DisplayName":"SAAAAALUT","Emblem":{"Id":26}}},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-03T00:02:00Z","CastleThemeId":22,"CastleHeartRank":2,"WinRatioDifficulty":2,"LastComment":{"AttackId":"5808d62a5c983200b46505e5","AccountId":3141971,"Comment":{"Raw":"super"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":1978326,"DisplayName":"jandrox16","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2014-11-05T22:17:49Z","CastleThemeId":21,"CastleHeartRank":2,"WinRatioDifficulty":1,"LastComment":{"AttackId":"5803839a5c98320eb4f2d0cf","AccountId":3140908,"Comment":{"Raw":"jaaaa"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3137118,"DisplayName":"Fydra","AvatarId":10,"CastleLevel":2},"Level":2,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-08T18:30:54Z","CastleThemeId":21,"CastleHeartRank":2,"WinRatioDifficulty":2}]},{"Level":3,"Castles":[{"DefenderAccountSummary":{"Id":101,"DisplayName":"Fendrick's Farm","OasisNameId":16659,"AvatarId":10,"CastleLevel":3},"CastleType":1,"Level":3,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":27,"CastleHeartRank":3},{"DefenderAccountSummary":{"Id":102,"DisplayName":"Alien Outpost","OasisNameId":16660,"AvatarId":10,"CastleLevel":3},"CastleType":1,"Level":3,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":28,"CastleHeartRank":3},{"DefenderAccountSummary":{"Id":103,"DisplayName":"The Bank","OasisNameId":16661,"AvatarId":10,"CastleLevel":3},"CastleType":1,"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2015-05-19T20:03:26Z","CastleThemeId":29,"CastleHeartRank":3},{"DefenderAccountSummary":{"Id":3134407,"DisplayName":"Patrykce","AvatarId":10,"CastleLevel":3},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-25T11:45:02Z","CastleThemeId":21,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580413bd5c98320eb4f4cede","AccountId":3141468,"Comment":{"Raw":"no"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3138631,"DisplayName":"Ravah`sLair","AvatarId":10,"CastleLevel":3},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-09T04:44:49Z","CastleThemeId":21,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580ccfda5c98320c187f74cd","AccountId":3143081,"Comment":{"Raw":"hah GAYYYYYYYYYYYYYY"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3138136,"DisplayName":"Gandalf_White_Me","AvatarId":10,"CastleLevel":3,"GuildHeader":{"Id":151736,"DisplayName":"Rakowisko","Emblem":{"Id":13}}},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-06T18:30:31Z","CastleThemeId":1,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580afa275c9832101802c055","AccountId":3140514,"Comment":{"Raw":"goody"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":2627746,"DisplayName":"GavinsWorld","AvatarId":10,"CastleLevel":3},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2015-03-17T16:08:46Z","CastleThemeId":22,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"5801f83b5c98321778c292a5","AccountId":3140819,"Comment":{"Raw":"Whoop whoop!"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3134320,"DisplayName":"Betaaldagen","AvatarId":10,"CastleLevel":3,"GuildHeader":{"Id":150901,"DisplayName":"Baransu","Emblem":{"Id":10}}},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-25T07:28:53Z","CastleThemeId":23,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"5808cb785c983200b464e75e","AccountId":3142187,"Comment":{"Raw":"thanks "},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3140433,"DisplayName":"Widlock","AvatarId":10,"CastleLevel":3},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-16T14:02:19Z","CastleThemeId":22,"CastleHeartRank":3,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":3140866,"DisplayName":"Rohart","AvatarId":10,"CastleLevel":3},"Level":3,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-15T12:24:45Z","CastleThemeId":21,"CastleHeartRank":3,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580ba0ae5c9832101804c049","AccountId":3142794,"Comment":{"Raw":"naecm8"},"AvatarId":10}}]},{"Level":4,"Castles":[{"DefenderAccountSummary":{"Id":104,"DisplayName":"The Squat","OasisNameId":16667,"AvatarId":10,"CastleLevel":4},"CastleType":1,"Level":4,"IsNew":true,"IsCastleAttackable":true,"CastleThemeId":1,"CastleHeartRank":4},{"DefenderAccountSummary":{"Id":3134205,"DisplayName":"WarTrunk","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-24T21:10:03Z","CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":2,"LastComment":{"AttackId":"57f8f1165c98320440bd34ad","AccountId":3138553,"Comment":{"Raw":"easy2"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":2186102,"DisplayName":"lucaaristide","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2014-09-06T12:17:23Z","CastleThemeId":1,"CastleHeartRank":4,"WinRatioDifficulty":1,"LastComment":{"AttackId":"580ba9475c9832101804e3e7","AccountId":3142803,"Comment":{"Raw":"NOT BAD"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":2596897,"DisplayName":"IceTwist","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-28T17:28:40Z","CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580bda795c983210180583a5","AccountId":3142861,"Comment":{"Raw":"Great dude"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3134877,"DisplayName":"LeafySinger242","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-28T20:30:42Z","CastleThemeId":2,"CastleHeartRank":4,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580bbf0f5c98321018053102","AccountId":3142838,"Comment":{"Raw":"bosta"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3142542,"DisplayName":"187er","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-10-21T20:33:04Z","CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":2},{"DefenderAccountSummary":{"Id":3132675,"DisplayName":"matheclaire","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-25T14:04:12Z","CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580c625b5c98320c187e061e","AccountId":3142970,"Comment":{"Raw":"noice"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3116805,"DisplayName":"Laneyboii","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-08-11T18:36:31Z","CastleThemeId":2,"CastleHeartRank":4,"WinRatioDifficulty":1,"LastComment":{"AttackId":"5800fa385c98321778c08c9a","AccountId":3140626,"Comment":{"Raw":"ez"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3131677,"DisplayName":"AndrewSmurph","AvatarId":10,"CastleLevel":4,"TrophyScore":2,"GuildHeader":{"Id":150498,"DisplayName":"BobTheSmurphz","Emblem":{"Id":3}}},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-17T18:45:15Z","TrophyScore":2,"CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":2,"LastComment":{"AttackId":"580a82865c9832101801fcaf","AccountId":3142554,"Comment":{"Raw":"not bead"},"AvatarId":10}},{"DefenderAccountSummary":{"Id":3131817,"DisplayName":"Buckingfish","AvatarId":10,"CastleLevel":4},"Level":4,"IsNew":true,"IsCastleAttackable":true,"LastPublishedDate":"2016-09-18T22:06:33Z","CastleThemeId":22,"CastleHeartRank":4,"WinRatioDifficulty":1,"LastComment":{"AttackId":"580d456f5c98320a9cb0d3e9","AccountId":3143101,"Comment":{"Raw":"TooEasy"},"AvatarId":10}}]}]}})"_json;
    }
    catch (std::exception &e)
    {
        Debugprint(e.what());
    }
    Sendreply(Server, Response.dump());
}

// Add the services to the gameserver on startup.
namespace {
    struct Startup {
        Startup()
        {
            Mapservice("/AttackSelectionService.hqs/GetAttackSelectionList", GetAttackSelectionList);
        };
    };
    static Startup Loader{};
}
